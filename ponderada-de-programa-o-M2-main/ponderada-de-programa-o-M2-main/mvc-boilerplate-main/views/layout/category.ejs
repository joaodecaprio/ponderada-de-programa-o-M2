<%- include('../components/header') %>

<style>
  body, html {
    background: #18182f !important;
    color: #fff !important;
  }
  .form-container,
  table,
  .form-container input,
  .form-container label,
  .form-container button,
  .form-container select {
    background: #23234b !important;
    color: #fff !important;
    border-color: #7f5cff !important;
  }
  table,
  th,
  td {
    border: none !important;
  }
  th, td {
    color: #fff !important;
  }
</style>

<div class="container" style="margin-top: 0; background: #18182f; color: #fff; min-height: 100vh;">
  <!-- Imagens dos personagens centralizadas, coladas totalmente no topo -->
  <div class="task-characters"
    style="display: flex; justify-content: center; gap: 40px; margin-bottom: 0; margin-top: -110px;">
    <img src="/gelado1.jpg" alt="Gelado 1"
      style="width:220px; height:220px; object-fit:cover; border-radius:22px; border: 4px solid #7f5cff; box-shadow:0 4px 18px #7f5cff33;">
    <img src="/gelado2.jpg" alt="Gelado 2"
      style="width:220px; height:220px; object-fit:cover; border-radius:22px; border: 4px solid #43e97b; box-shadow:0 4px 18px #43e97b33;">
  </div>

  <div class="page-header" style="margin-top: -60px; margin-bottom: 4px;">
    <h1>Lista de Categorias</h1>
    <p class="subtitle">Gerencie suas categorias de forma divertida!</p>
  </div>

  <!-- Flex container para tabela e formulário lado a lado, tudo bem acima -->
  <div style="display: flex; gap: 36px; justify-content: center; align-items: flex-start; flex-wrap: wrap; margin-top: -70px;">
    <!-- Formulário à esquerda -->
    <div class="form-container"
      style="max-width: 340px; background: #23234b; border-radius: 22px; box-shadow: 0 8px 32px #7f5cff33; padding: 18px 14px; flex: 1 1 320px; margin-top: 40px;">
      <h2 style="text-align:center; color:#7f5cff; margin-bottom: 10px;">Nova Categoria</h2>
      <form action="/category" method="POST" style="display: flex; flex-direction: column; gap: 12px;">
        <div>
          <label for="name" style="color:#fff; font-weight:500; font-size:0.98em;">Nome da Categoria:</label>
          <input type="text" id="name" name="name" required
            style="width:100%; padding:7px 10px; border-radius:8px; border:1px solid #7f5cff; background:#18182f; color:#fff; margin-top:3px; font-size:0.98em;">
        </div>
        <div>
          <label for="description" style="color:#fff; font-weight:500; font-size:0.98em;">Descrição:</label>
          <input type="text" id="description" name="description" required
            style="width:100%; padding:7px 10px; border-radius:8px; border:1px solid #7f5cff; background:#18182f; color:#fff; margin-top:3px; font-size:0.98em;">
        </div>
        <button type="submit"
          style="margin-top:8px; padding:8px 0; border-radius:10px; border:none; background:linear-gradient(90deg,#7f5cff,#43e97b); color:#fff; font-size:1em; font-weight:500; letter-spacing:1px; cursor:pointer; box-shadow:0 2px 8px #7f5cff44; transition:background 0.2s;">
          Criar Categoria
        </button>
      </form>
    </div>

    <!-- Tabela personalizada menor e à direita -->
    <div style="max-width: 420px; flex: 1 1 340px; margin-top: 0;">
      <h2 style="text-align:center; margin-bottom: 8px;">Categorias</h2>
      <table
        style="width: 100%; border-collapse: separate; border-spacing: 0; font-size: 0.98em; background: #23234b; border-radius: 22px; overflow: hidden; box-shadow: 0 8px 32px #7f5cff33; border: 4px solid #7f5cff;">
        <thead>
          <tr style="background: linear-gradient(90deg,#7f5cff,#43e97b); color: #fff;">
            <th style="padding: 12px 8px; font-weight: 600; border: none;">Categoria</th>
            <th style="padding: 12px 8px; font-weight: 600; border: none;">Descrição</th>
          </tr>
        </thead>
        <tbody>
          <% categories.forEach(function(category, idx) { %>
              <tr>
              <td style="padding: 10px 8px; color: #fff; border: none;"><%= category.name %></td>
              <td style="padding: 10px 8px; color: #bdbdfc; border: none;"><%= category.description %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
</div>



